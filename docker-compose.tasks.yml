services:
  task-1:
    build:
      context: .
      dockerfile: ./compose/tasks/Dockerfile
    command: python tasks/task_1.py
    volumes:
      - silero_task_dir:./

  task-2:
    build:
      context: .
      dockerfile: ./compose/tasks/Dockerfile
    command: python tasks/task_2.py

    volumes:
      - silero_task_dir:./

    depends_on:
      task-1:
        condition: service_completed_successfully

volumes:
  silero_task_dir: